####一些概念
http: 超文本传输协议，是应用层的一种协议，由请求和响应组成，是无状态的，所以每次的请求是没有对应关系的。  
https就是http和SSL（安全套接层）或是TLS（安全传输协议）结合使用。https应用的时候是结合对称加密和非对称加密，提高效率。使用相同的密钥加解密就是对称加密；
加密解密使用不同的密钥就是非对称加密。非对称加密，有一对公私钥，公钥是公开的，可以发布给所有，但是私钥一定是保密的。  
###https的实现原理
https协议之所以是安全的是因为https对于传输的内容是进行加密的，而加密的过程是使用非对称加密。
https对于内容传输的加密使用的是对称加密，证书验证阶段使用的是非对称加密。因为非对称加密效率是非常低的，
https应用场景存在大量交互，低效率是不可接受的；此外一对公私钥只能实现单项的加解蜜，https中只有人服务端保存了私钥，所以
https内容传输使用的是对称加密。https整个过程为证书验证和数据传输两个阶段，简单过程如下：  
证书验证阶段：发起请求，服务起收到请求后返回有公钥的证书，客户端判断证书是否合法，不合法就发出警告；证书验证通过后就进入内容传输阶段。证书非常重要的。  
数据传输阶段：在证书验证通过后，客户端会生成随机数，让后把这段随机数通过公钥进行加密，服务端此时用私钥解密（这个过程使用了非对称加密），
（如果不考虑其他情况，你可以简单的把此时随机数作为对称加密的密钥，这样服务端，客户端都拥有了相同密钥，那么下面的内容就可以在相对安全情况使用对称加密进行传输）

####证书需要ca认证机构颁发
简单理解：在没有的ca认证机构认证情况下，可以在客户端和服务端构建中间人，中间人劫持所有的请求，在请求证书的时候，中间人返回自己的证书，之后解密客户端发送的内容，再把此内容与服务器交互，
得到加密数据，解密后在返回中间人加密后的数据给客户端。
>过程原理：
 1.本地请求被劫持（如DNS劫持等），所有请求均发送到中间人的服务器  
 2.中间人服务器返回中间人自己的证书  
 3.客户端创建随机数，通过中间人证书的公钥对随机数加密后传送给中间人，然后凭随机数构造对称加密对传输内容进行加密传输  
 4.中间人因为拥有客户端的随机数，可以通过对称加密算法进行内容解密  
 5.中间人以客户端的请求内容再向正规网站发起请求  
 6.因为中间人与服务器的通信过程是合法的，正规网站通过建立的安全通道返回加密后的数据  
 7.中间人凭借与正规网站建立的对称加密算法对内容进行解密  
 8.中间人通过与客户端建立的对称加密算法对正规内容返回的数据进行加密传输  
 9.客户端通过与中间人建立的对称加密算法对返回结果数据进行解密  

因为没有证书的认证，所有客户端完全不知道自己发起的https请求被劫持。  

####浏览器对于证书是否合法
自行了解搜索。
这里简单一个问题：所有证书都是公开的，可以去官网下载作为中间人证书，这里非对称加密就很重要，因为没有服务端的密钥，
也不可能根据公钥推算出私钥，所有也就无法解密。

####那么https就是一定安全的吗？
什么都不是绝对安全的，就像上面所说的，后面传输的内容是使用对称加密传输的，这是可以操作的，如果存在本地的（对称加密密钥）随机数
被获取，那么后面传输的内容就会有危险，安全只是因为这随机数是在非对称加密下传输，且保存安全情况下。再说人是最脆弱的，社会工程学不是没道理的。  

####https会被抓包吗？
会被抓包，https只是防止在不知情情况下通信被监听，但是现在浏览器对于不安全的网站只是提示，仍然可以访问，如果用户授权了，就可以构建中间人进行代理。 

