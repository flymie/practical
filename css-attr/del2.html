<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        div {
            position: relative;
            width: 320px;
            height: 200px;
            overflow: hidden;
        }

        div::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url("https://i0.wp.com/airlinkalaska.com/wp-content/uploads//aurora-2.jpg?resize=1024%2C683&ssl=1");
            background-size: cover;
            filter: blur(50px);
            transform: scale(3);
        }
    </style>
</head>
<body>
<div></div>
<progress id="progress" value="0" max="100"></progress>
<button id="btn">
    史蒂夫
</button>
<script>
    const result = {
      code: 200,
      msg: null,
      traceId: null,
      result: {
        name: '餐典科技',
        id: 0,
        childList: [
          {
            name: 'group6559',
            id: 204,
            childList: [{ name: 'group1', id: 200, childList: null, userList: null }],
            userList: [
              {
                userName: 'jackson',
                token: null,
                userId: 72,
                name: null,
                corpId: null,
                phone: '13231232141',
                resultCode: null,
                msgResult: null,
                avatar: null,
                select: true,
                needImg: false,
                roleList: [],
              },
              {
                userName: 'hahah1',
                token: null,
                userId: 9,
                name: null,
                corpId: null,
                phone: '12345678901',
                resultCode: null,
                msgResult: null,
                avatar: null,
                select: true,
                needImg: false,
                roleList: [],
              },
            ],
          },
          {
            name: 'group9794',
            id: 209,
            childList: null,
            userList: [
              {
                userName: 'jackson',
                token: null,
                userId: 72,
                name: null,
                corpId: null,
                phone: '13231232141',
                resultCode: null,
                msgResult: null,
                avatar: null,
                select: true,
                needImg: false,
                roleList: [],
              },
              {
                userName: '张先生',
                token: null,
                userId: 97,
                name: null,
                corpId: null,
                phone: '13122386760',
                resultCode: null,
                msgResult: null,
                avatar: null,
                select: true,
                needImg: false,
                roleList: [],
              },
            ],
          },
          {
            name: '产品与技术部group4',
            id: 235,
            childList: [{ name: '组织111', id: 244, childList: null, userList: null }],
            userList: null,
          },
          { name: '哈1', id: 243, childList: null, userList: null },
          { name: '这个组织下只有一个门店', id: 245, childList: null, userList: null },
          {
            name: '（group5）',
            id: 236,
            childList: null,
            userList: [
              {
                userName: '测试彭彭元气桃桃店124',
                token: null,
                userId: 99,
                name: null,
                corpId: null,
                phone: '15121256906',
                resultCode: null,
                msgResult: null,
                avatar: null,
                select: true,
                needImg: false,
                roleList: [],
              },
            ],
          },
          {
            name: '\uD83D\uDE04&…group2',
            id: 230,
            childList: [
              {
                name: 'jjj1',
                id: 219,
                childList: [
                  { name: 'group305', id: 206, childList: null, userList: null },
                  {
                    name: 'jjj2',
                    id: 220,
                    childList: [
                      {
                        name: 'jjj3',
                        id: 221,
                        childList: [
                          {
                            name: 'jjj4',
                            id: 222,
                            childList: [
                              {
                                name: 'jjj5',
                                id: 223,
                                childList: [
                                  {
                                    name: 'hahahah',
                                    id: 240,
                                    childList: [
                                      { name: 'group2944', id: 239, childList: null, userList: null },
                                    ],
                                    userList: null,
                                  },
                                  {
                                    name: 'jjj6',
                                    id: 224,
                                    childList: [
                                      { name: 'group5317', id: 238, childList: null, userList: null },
                                      {
                                        name: 'jjj7',
                                        id: 225,
                                        childList: [
                                          {
                                            name: 'jjj8',
                                            id: 226,
                                            childList: [
                                              {
                                                name: 'jjj9',
                                                id: 227,
                                                childList: [
                                                  {
                                                    name: 'jjj10',
                                                    id: 228,
                                                    childList: [
                                                      {
                                                        name: 'jjj11',
                                                        id: 229,
                                                        childList: [
                                                          {
                                                            name: 'jjj12',
                                                            id: 234,
                                                            childList: null,
                                                            userList: null,
                                                          },
                                                        ],
                                                        userList: null,
                                                      },
                                                    ],
                                                    userList: null,
                                                  },
                                                ],
                                                userList: null,
                                              },
                                            ],
                                            userList: null,
                                          },
                                        ],
                                        userList: null,
                                      },
                                    ],
                                    userList: null,
                                  },
                                ],
                                userList: null,
                              },
                            ],
                            userList: null,
                          },
                        ],
                        userList: null,
                      },
                      {
                        name: '\uD83D\uDE04哈哈哈&……*@@group',
                        id: 218,
                        childList: [
                          { name: '1231）」测试group', id: 231, childList: null, userList: null },
                        ],
                        userList: null,
                      },
                    ],
                    userList: null,
                  },
                ],
                userList: null,
              },
              { name: 'ttgroup', id: 241, childList: null, userList: null },
            ],
            userList: [
              {
                userName: '张先生',
                token: null,
                userId: 97,
                name: null,
                corpId: null,
                phone: '13122386760',
                resultCode: null,
                msgResult: null,
                avatar: null,
                select: true,
                needImg: false,
                roleList: [],
              },
              {
                userName: '梅建文',
                token: null,
                userId: 86,
                name: null,
                corpId: null,
                phone: '18679938458',
                resultCode: null,
                msgResult: null,
                avatar: null,
                select: true,
                needImg: false,
                roleList: [],
              },
            ],
          },
          { name: '\uD83D\uDE04group3', id: 233, childList: null, userList: null },
        ],
        userList: [
          {
            userName: '江梦斯',
            token: null,
            userId: 107,
            name: null,
            corpId: null,
            phone: '19121922294',
            resultCode: null,
            msgResult: null,
            avatar: null,
            select: true,
            needImg: false,
            roleList: [],
          },
          {
            userName: '白文辉',
            token: null,
            userId: 98,
            name: null,
            corpId: null,
            phone: '18215361994',
            resultCode: null,
            msgResult: null,
            avatar: null,
            select: true,
            needImg: false,
            roleList: [],
          },
          {
            userName: '员工',
            token: null,
            userId: 66,
            name: null,
            corpId: null,
            phone: '12323434567',
            resultCode: null,
            msgResult: null,
            avatar: null,
            select: true,
            needImg: false,
            roleList: [],
          },
          {
            userName: 'csh',
            token: null,
            userId: 103,
            name: null,
            corpId: null,
            phone: '17621039540',
            resultCode: null,
            msgResult: null,
            avatar: null,
            select: true,
            needImg: false,
            roleList: [],
          },
          {
            userName: '钱厚厚',
            token: null,
            userId: 100,
            name: null,
            corpId: null,
            phone: '18321027830',
            resultCode: null,
            msgResult: null,
            avatar: null,
            select: true,
            needImg: false,
            roleList: [],
          },
          {
            userName: '超级管理员',
            token: null,
            userId: 104,
            name: null,
            corpId: null,
            phone: '18679938450',
            resultCode: null,
            msgResult: null,
            avatar: null,
            select: true,
            needImg: false,
            roleList: [],
          },
          {
            userName: '城於',
            token: null,
            userId: 106,
            name: null,
            corpId: null,
            phone: '19901758510',
            resultCode: null,
            msgResult: null,
            avatar: null,
            select: true,
            needImg: false,
            roleList: [],
          },
          {
            userName: '聂钢',
            token: null,
            userId: 873,
            name: null,
            corpId: null,
            phone: '13052056185',
            resultCode: null,
            msgResult: null,
            avatar: null,
            select: true,
            needImg: false,
            roleList: [],
          },
          {
            userName: '张先生',
            token: null,
            userId: 97,
            name: null,
            corpId: null,
            phone: '13122386760',
            resultCode: null,
            msgResult: null,
            avatar: null,
            select: true,
            needImg: false,
            roleList: [],
          },
          {
            userName: '陌汐',
            token: null,
            userId: 94,
            name: null,
            corpId: null,
            phone: '18871334707',
            resultCode: null,
            msgResult: null,
            avatar: null,
            select: true,
            needImg: false,
            roleList: [],
          },
        ],
      },
    };

    const getTaskUserListFn = (data) => {
      const list = [];
      const keysMap = new Map();
      const dig = (data) => {
        data.forEach((v) => {
          const {userList, childList} = v;
          if (userList && userList.length) {
            userList.forEach((v2) => {
              if (!keysMap.has(v2.userId)) {
                keysMap.set(v2.userId, true);
                list.push(v2);
              }
            });
          }
          if (childList && childList.length) {
            dig(childList);
          }
        });
      };
      dig(data);
      return list;
    };

    const taskUserList = getTaskUserListFn([result.result]);
    console.log(taskUserList);

    const getGroupIdsFn = (data, taskUserId) => {
      const list = [];
      const dig = (data) => {
        for (let v of data) {
          const {userList, childList} = v;
          if (userList && userList.length && userList.some((v2) => v2.userId === taskUserId)) {
            list.push(v);
            continue;
          }
          if (childList && childList.length) {
            dig(childList);
          }
        }
      };
      dig(data);
      return list;
    };
    const groupIds = getGroupIdsFn([result.result], 72);
    console.log(groupIds)
</script>
</body>
</html>
